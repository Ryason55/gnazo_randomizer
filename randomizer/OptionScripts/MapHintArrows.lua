--Apply changes to the map arrows that allows a second color for index 2 and above
local MapArrowColorAddress = readInteger("gnazo.exe+6001D")

--Shared Map stuff
writeBytes("gnazo.exe+5C5B9",{0x80,0x39,0x01,0x7F,0x07,0x8B,0x15,0xFF,0xFF,0xFF,0xFF,0xC3,0x80,0x39,0x02,0x7F,0x07,0x8B,0x15,0xFF,0xFF,0xFF,0xFF,0xC3,0x8B,0x15,0xFF,0xFF,0xFF,0xFF,0xC3}) --Choose the appropriate color based off the address loaded in ecx
writeInteger("gnazo.exe+5C5C0",MapArrowColorAddress)
writeInteger("gnazo.exe+5C5CC",GameMemoryOffset+0x9048D8)
writeInteger("gnazo.exe+5C5D3",GameMemoryOffset+0x9048DC)
writeBytes("gnazo.exe+9048D8",{0xFF,0x7A,0x7A,0xFF,0x3C,0x1E,0x3C,0xFF}) --Alt arrow colors (Using unused space for Stage 200 Room 4 Door Data)

writeBytes("gnazo.exe+62E27",{0x8B,0x4C,0x24,0x64,0xE9,0x89,0x97,0xFF,0xFF}) --Pull connection address from stack for lines
writeBytes("gnazo.exe+62F17",{0x8B,0x4C,0x24,0x7C,0xE9,0x99,0x96,0xFF,0xFF}) --Similar to above, but for arrow heads (different stack pointer)

--Stage Transition Map
writeBytes("gnazo.exe+5E7F7",{0xE8,0x67,0x48,0x00,0x00,0x89,0x4C,0x24,0x60}) --Redirect jump comparison, and write the current connection to the stack
writeBytes("gnazo.exe+5E882",{0xE8,0xA0,0x45,0x00,0x00,0x90}) --Redirect arrow line color
writeBytes("gnazo.exe+5E8C8",{0xE8,0x4A,0x46,0x00,0x00,0x90}) --Redirect arrow head color
writeBytes("gnazo.exe+5E8D5",{0x52}) --push edx instead of ecx for the arrow head color

writeBytes("gnazo.exe+63063",{0x80,0x39,0x01,0x7D,0x06,0x58,0xE9,0x12,0xB9,0xFF,0xFF,0xC3}) --Relocated jump branch

--Map Screen Map
writeBytes("gnazo.exe+5FF94",{0xE8,0xE9,0x1C,0x00,0x00,0x89,0x4C,0x24,0x60}) --Redirect jump comparison, and write the current connection to the stack
writeBytes("gnazo.exe+6001B",{0xE8,0x07,0x2E,0x00,0x00,0x90}) --Redirect arrow line color
writeBytes("gnazo.exe+60064",{0xE8,0xAE,0x2E,0x00,0x00,0x90}) --Redirect arrow head color
writeBytes("gnazo.exe+60071",{0x52}) --push edx instead of ecx for the arrow head color

writeBytes("gnazo.exe+61C82",{0x80,0x39,0x01,0x7D,0x06,0x58,0xE9,0xAB,0xE4,0xFF,0xFF,0xC3}) --Relocated jump branch

--Make it so the door number colors don't screw up with the colored arrow system
writeBytes("gnazo.exe+31EED",{0x39,0xAC,0x3A})
writeBytes("gnazo.exe+31EF4",{0x74})
writeBytes("gnazo.exe+31EFE",{0x39,0xAC,0x08})
writeBytes("gnazo.exe+31F0A",{0x75})

writeBytes("gnazo.exe+31F82",{0x39,0xAC,0x39})
writeBytes("gnazo.exe+31F89",{0x74})
writeBytes("gnazo.exe+31F93",{0x39,0xAC,0x10})
writeBytes("gnazo.exe+31F9F",{0x75})